<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task manager</title>
    <script src="/static/index.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/static/styles.css">
  </head>
  <body>
    <h1>Task manager</h1>
    <ul>
      <h2>Endpoints</h2>
      
      {% if user.is_authenticated %}
      <li><a href="/api/tasks/">GET /api/tasks</a></li>
      <li><a href="/api/tasks/">POST /api/tasks</a></li>
      <li><a href="/api/task/1/">PUT /api/task/{id}</a></li>
      <li><a href="/api/task/delete/1/">DELETE /api/task/delete/{id}</a></li>
      <li><a href="/api/logout/">Logout /api/logout</a></li>
      {% else %}
      <li><a href="/api/register/">Register /api/register</a></li>
      <li><a href="/api/login/">Login /api/login</a></li>
      {%endif%}
    </ul>
    {% if user.is_authenticated %}
    <form action="/api/tasks/" method="post">
        {%csrf_token%}
      <input type="text" name="title" placeholder="Enter a task" />
      <input type="text" name="description" placeholder="Enter a description" />
      <input type="date" name="due_date"/>
      <button type="submit">Add task</button>
    </form>
    <br>
    <h2>Task List</h2>
    <ul id="taskList"></ul>
  </ul>
  {% else %}
  <h2>Login</h2>
  <form action="/api/login/" method="post">
    {%csrf_token%}
    <input type="text" name="username" placeholder="Enter your username" />
    <input type="password" name="password" placeholder="Enter your password" />
    <button type="submit">Login</button>
  </form>
  <h2>Signup</h2>
  <form action="/api/register/" method="post">
    {%csrf_token%}
    <input type="text" name="username" placeholder="Enter your username" />
    <input type="password" name="password" placeholder="Enter your password" />
    <button type="submit">Login</button>
  </form>
  {%endif%}
  </body>
</html>
